# Базовые примеры работы с Apache Kafka на PHP

В этой директории находятся базовые примеры использования Apache Kafka с PHP с помощью расширения rdkafka.

## Файлы примеров

- **producer.php** - пример отправки сообщений в Kafka
- **consumer.php** - пример чтения сообщений из Kafka

## Описание

Базовые примеры демонстрируют простейшее использование Kafka с минимальным кодом. Они подходят для начального знакомства с Kafka и понимания основных принципов работы.

### Продюсер (producer.php)

Скрипт `producer.php` отправляет несколько сообщений в топик Kafka с использованием базового API расширения rdkafka.

#### Функциональность продюсера:
- Создание простого продюсера Kafka
- Отправка нескольких сообщений в топик `test-topic`
- Ожидание подтверждения отправки всех сообщений
- Логирование процесса отправки сообщений

### Консьюмер (consumer.php)

Скрипт `consumer.php` читает сообщения из топика Kafka с использованием базового API расширения rdkafka.

#### Функциональность консьюмера:
- Создание простого консьюмера Kafka
- Подписка на топик `test-topic`
- Чтение сообщений в бесконечном цикле
- Обработка различных типов событий (получение сообщения, достижение конца раздела, таймаут)
- Логирование полученных сообщений

## Сценарий использования

Эти примеры подходят для:
- Начального знакомства с Kafka
- Простых сценариев отправки и чтения сообщений без сложной логики
- Тестирования соединения с Kafka

## Запуск примеров

### Запуск продюсера
```bash
docker exec -it kafka_examples_php php /var/www/html/examples/basic/producer.php
```

### Запуск консьюмера
```bash
docker exec -it kafka_examples_php php /var/www/html/examples/basic/consumer.php
```

## Отличия от продвинутых примеров

В отличие от продвинутых примеров, базовые примеры:
- Не используют ООП подход
- Имеют минимальную функциональность
- Работают только с одним топиком
- Не предоставляют дополнительных методов для отправки пакетов сообщений или настройки обработчиков
